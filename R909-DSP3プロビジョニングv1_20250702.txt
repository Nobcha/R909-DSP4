🔹 R909-DSP3 プロビジョニング バージョン1（2025/07/02時点）

■ ハード構成

    バージョン1はATmega系マイコンを使用（AVRベースで初期運用）。

    バージョン2でESP32系MCUへ移行予定（無線機能や高性能処理を活用）。

    R909-DSP3基板にSi4732チューナーICを搭載。

    Si5351Aクロックジェネレータを搭載し、基準クロックとして使用。

    OLEDディスプレイで局情報や受信状態を表示。

    ロータリーエンコーダとロータリースイッチ（RE-SW）で操作。

    電源・I2C配線は正常動作を確認済み。

■ ソフト構成・機能

    Si4732ライブラリでAM受信動作を確認済み。

    サブ機能としてFM放送受信対応済み（Si4732 FMモード使用）。

    OLED上に周波数を大きく表示。SメータバーをRSSI値から生成して表示。

    ロータリー操作で周波数をステップ単位で変更し、OLED表示を即時更新。

    ロータリーエンコーダスイッチ（RE-SW）のダブルクリックで現在周波数をEEPROMに保存可能。

    電源投入時にEEPROMから最終周波数設定を自動読み込みし、Si4732を初期設定。

    最大50チャンネル分の周波数をEEPROMに保存可能。

    RSSI取得頻度はタイマー設定で可変化済み、RSSIバー表示で信号強度を表現。

    Si4732の通話路帯域選択機能を実装済み（複数のIF帯域選択可）。

    Si5351Aの電源スタート時にEEPROM保存の較正値を読み込み、基準クロックを補正する機能を実装済み。

    AM/FMモード表示をOLEDに表示する準備あり。

■ 操作処理フロー

    ロータリー回転で周波数調整→OLED更新→Si4732へ周波数設定コマンド送信。

    ダブルクリックでEEPROMに周波数保存→保存完了メッセージをOLEDに一時表示。

    タイマー制御でRSSI取得し、Sメータを更新。

    電源投入時に較正値適用＆EEPROM設定で自動セットアップ。

■ 問題点・課題

    RSSI取得時に受信音質にノイズや感度暴れが生じるため、平滑化や取得周期最適化が必要。

    SメータはRSSI依存で、DSP影響を回避する代替策は未実装。

    長押しによる設定メニューUIは未着手。

    バンド情報・周波数ステップ（国内AM9/10kHz切替など）は未実装。

    OTAアップデート対応は未検討。

■ 将来的な検討項目

    エアバンド運用向け8.33kHzステップ対応を検討予定。

    バージョン2でESP32へ移行し、Wi-Fi/Bluetoothなどの高度機能を搭載計画。

■ 補足資料

    全体像・操作詳細を含むマニュアル：
    🔗 R909-SDR_manual_02.pdf (GitHubリンク)

    操作処理フロー図：
    🔗 R909_op_flow.jpg (GitHubリンク)

